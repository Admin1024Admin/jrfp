<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="/static/layui/jquery-2.1.0.min.js" th:src="@{/static/layui/jquery-2.1.0.min.js}"></script>
    <script src="/static/layui/layui.js" th:src="@{/static/layui/layui.js}"></script>
    <link href="/static/layui/css/layui.css" rel="stylesheet" th:href="@{/static/layui/css/layui.css}"/>
</head>
<body>
<div class="layui-fluid">
    <form action="/fpbgrjzfpdk/updateSingle" method="post" class="layui-form">
    <input type="hidden" name="id" th:value="${fpb.id}">
    <table class="layui-table">
        <tr style="height:40px;">
            <td colspan="5" style="text-align: center;font-size:20px;" th:text="'修改贫困户'+${fpb.huZhuName}+'的基本情况'">基本情况</td>
        </tr>
        <tr>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">乡（镇）</label>
                    <div class="layui-input-block">
                        <input type="text" name="xiang" required  lay-verify="required"  autocomplete="off" class="layui-input" th:value="${fpb.xiang}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">行政村</label>
                    <div class="layui-input-block">
                        <input type="text" name="chun" required  lay-verify="required"  autocomplete="off" class="layui-input" th:value="${fpb.chun}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">组别</label>
                    <div class="layui-input-block">
                        <input type="text" name="zu" autocomplete="off" class="layui-input" th:value="${fpb.zu}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">户主姓名</label>
                    <div class="layui-input-block">
                        <input type="text" name="huZhuName" autocomplete="off" class="layui-input" th:value="${fpb.huZhuName}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">家庭成员姓名</label>
                    <div class="layui-input-block">
                        <input type="text" name="familyMemberName" autocomplete="off" class="layui-input" th:value="${fpb.familyMemberName}">
                    </div>
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">身份证号</label>
                    <div class="layui-input-block">
                        <input type="number" name="cardId" autocomplete="off" class="layui-input" th:value="${fpb.cardId}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">与户主关系</label>
                    <div class="layui-input-block">
                        <input type="text" name="familyRelation"  autocomplete="off" class="layui-input" th:value="${fpb.familyRelation}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">家庭人口</label>
                    <div class="layui-input-block">
                        <input type="number" name="familyMemberCount"  autocomplete="off" class="layui-input" th:value="${fpb.familyMemberCount}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">总额</label>
                    <div class="layui-input-block">
                        <input type="number" name="baoFeiZongE"  autocomplete="off" class="layui-input" th:value="${fpb.baoFeiZongE}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">其中：自付</label>
                    <div class="layui-input-block">
                        <input type="number" name="baoFeiZiFu" autocomplete="off" class="layui-input" th:value="${fpb.baoFeiZiFu}">
                    </div>
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">其中：财政补贴</label>
                    <div class="layui-input-block">
                        <input type="number" name="baoFeiBuTie" autocomplete="off" class="layui-input" th:value="${fpb.baoFeiBuTie}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">保障金额</label>
                    <div class="layui-input-block">
                        <input type="number" name="baoZhangJinE" autocomplete="off" class="layui-input" th:value="${fpb.baoZhangJinE}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">保障期间</label>
                    <div class="layui-input-block">
                        <input type="text" name="baoZhangQiJian" autocomplete="off" class="layui-input" th:value="${fpb.baoZhangQiJian}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">投保时间</label>
                    <div class="layui-input-block">
                        <input type="date" name="touBaoDate" autocomplete="off" class="layui-input" th:value="${#dates.format(fpb.touBaoDate,'yyyy-MM-dd')}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">到期时间</label>
                    <div class="layui-input-block">
                        <input type="date" name="daoQiDate" autocomplete="off" class="layui-input" th:value="${#dates.format(fpb.daoQiDate,'yyyy-MM-dd')}">
                    </div>
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">理赔事项</label>
                    <div class="layui-input-block">
                        <input type="text" name="liPeiShiXiang" autocomplete="off" class="layui-input" th:value="${fpb.liPeiShiXiang}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">理赔时间</label>
                    <div class="layui-input-block">
                        <input type="date" name="liPeiDate" autocomplete="off" class="layui-input" th:value="${#dates.format(fpb.liPeiDate,'yyyy-MM-dd')}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">理赔金额</label>
                    <div class="layui-input-block">
                        <input type="number" name="liPeiJinE" autocomplete="off" class="layui-input" th:value="${fpb.liPeiJinE}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">受益人</label>
                    <div class="layui-input-block">
                        <input type="text" name="liPeiShouYiRen" autocomplete="off" class="layui-input" th:value="${fpb.liPeiShouYiRen}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">承办保险机构</label>
                    <div class="layui-input-block">
                        <input type="text" name="chengBaoJiGou" autocomplete="off" class="layui-input" th:value="${fpb.chengBaoJiGou}">
                    </div>
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">脱贫年度</label>
                    <div class="layui-input-block">
                        <input type="text" name="touPinYear" autocomplete="off" class="layui-input" th:value="${fpb.touPinYear}">
                    </div>
                </div>
            </td>
            <td>
                <div class="layui-form-item">
                    <label class="layui-form-label">备注</label>
                    <div class="layui-input-block">
                        <input type="text" name="note" autocomplete="off" class="layui-input" th:value="${fpb.note}">
                    </div>
                </div>
            </td>
        </tr>
        <tr>
            <td colspan="5" style="text-align: center">
                <div class="layui-form-item">
                    <div class="layui-input-block">
                        <button class="layui-btn" lay-submit lay-filter="update">立即修改</button>
                        <a type="reset" class="layui-btn layui-btn-primary" onclick="javascript:history.back(-1);">取消</a>
                    </div>
                </div>
            </td>
        </tr>
    </table>
    </form>
</div>
<script>
    //Demo
    layui.use(['form','layer'], function(){
        var form = layui.form;
        var layer = layui.layer;
        //监听提交
        form.on('submit(update)', function(data){
            layer.msg('正在修改...', {icon: 1, time:2000});
            $.ajax({
                type: 'post',
                url:'/fpbx/updateSingle',
                //dataType:'json',
                data: data.field,
                async: true,
                success: function (result) {
                    if (result=='ok') {
                        layer.msg('success:修改成功', {icon: 1, time:2000});
                        window.location.href="/fpbx/baseMessage
                    } else {
                        consol.alert(result);
                        layer.msg('eles:修改失败！', {icon: 2, time:1000});
                    }
                },
                error:function(){
                    layer.msg('eles:修改失败！', {icon: 2, time:1000});
                }
            });
            return false;
        });
    });
</script>
</body>
</html>